<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Lab 3 - Regression </title>
    <h2>Regression Explainer</h2>
	<h3>Alex White - awhite1@smcm.edu - Fall2021 Intro to Data Science 360-01</h3>
</head>
<body>
    <p>
    Regression is the means of estimating relationships of variables given a certain data set. This creates a better understanding of how variables change in relation to the other variables observed in the data. This also allows us to see an estimate of how these variables are related and how other factors may have an effect on the data. We can then distinguish the strength of the relationship between these variables.
    </p>
	<p>
	We select the independent variable 'height' to compare to several other variables (Temperature, rain, site number, altitude) followed by computing the slope and y intercept for each variable, making average calculations, finding the line of best fit, standard error and finally the R squared which gives us the strength of the relationship. The strength of the relationship is calculated based on the average value for the dependent variable compared to the line of best fit. The smaller the value, the greater the relation.
	<img src = "http://localhost:8888/tree/Regression/Pictures/" />
	</p>
	<p>
	After making these calculations, we graph the point for each and find the line of best fit and graphing it all to visualize these results for each of the dependent variables against the independent variable.
	<img src = "https://github.com/awhite1432/COSC-360-Lab3/blob/main/heightvalt.jpg" />
	<img src = "https://github.com/awhite1432/COSC-360-Lab3/blob/main/heightvrain.jpg" />
	<img src = "https://github.com/awhite1432/COSC-360-Lab3/blob/main/heightvsite.jpg" />
	<img src = "https://github.com/awhite1432/COSC-360-Lab3/blob/main/heightvtemp.jpg" />
			
	These show how close each point is to the line of best fit, underneath each graph is the calculation we can do to compare the average values for each category to show each relationship strength.
	</p>
	
	<p>
	#Lab 3 - Regression
	#Alex White and Nathaniel Champion
	#COSC 360-01 Fall 2021

	import numpy as np
	import matplotlib.pyplot as plt

	y = []
	x = []

	import pandas as pd
	import statistics as st
	#import mat
	#Explain the concept of the project, use code as examples and write website
	#showing results, concepts and code.

	def calculator(catx,caty,type):
	    #df = (catx,caty)
	    calculate = 0
	    div= 0
	    slope = 0
	    yInt = 0

	    avCx = st.mean(catx)
	    avCy = st.mean(caty)

	    for i in range(len(catx)):
	       calculate += ((catx[i]-avCx)*(caty[i]-avCy))
	       div += (pow((catx[i]-avCx),2))

	    slope = calculate/div
	    print("slope (b) = ", round(slope, 6))
	    yInt = (avCy-(slope*avCx))
	    print("Y-int = ", round(yInt, 2))
	    print("y =(",round(slope, 6),"* x) + ", round(yInt, 6))
	    print()

	    # calculator(df[h], df["height"])
	    #print(catx," v ",caty)
	    #Not sure how to print the names of each column here
	    #np.random.seed(19680801)
	    tickmark = round((catx.max()-catx.min())/10)
	    N = 178
	    plt.xticks(np.arange(round(catx.min()), catx.max(), tickmark))
	    plt.yticks(np.arange(0, 165, 5))

	    colors = np.random.rand(N)
	    line_x = catx
	    line_y = (slope * line_x) +  yInt
	    #https://stackoverflow.com/questions/3777861/setting-y-axis-limit-in-matplotlib
	    #For possibly changing axis spacing or limits
	    plt.plot(line_x, line_y)
	    plt.xlabel(type)
	    plt.ylabel("Height")
	    plt.scatter(catx, caty, s=10, c=colors, alpha=0.5)
	    plt.show()
	    seLine = 0
	    seYav = 0
	    for i in range(len(df)):
		    seLine = seLine + (caty[i] - (( slope * catx[i]) +  yInt ))
	    print("SE line = ", round(seLine, 15))

	    for i in range(len(df)):
		    seYav += (caty[i] - avCy)
	    print("SE y average = ", round(seYav, 15))

	    rSq = 1 - (seLine/seYav)
	    print("R Squared = ", round(rSq, 6))
	    print("</\></\></\></\></\></\></\></\></\></\></\></\>")
	    print()
	df = pd.read_csv (r'Plant_Height_Data.csv')
	# df.head()
	# y_val = df.height
	# x_val = df.temp
	#df = df[[h, "height"]]
	#headList = ["temp","rain","site","alt"]
	#for h in headList:

	calculator(df["temp"], df["height"], "Temperature")
	calculator(df["rain"],df["height"], "Rain")
	calculator(df["site"],df["height"], "Site")
	calculator(df["alt"],df["height"], "Altitude")
	</p>
	
	

</body>
</html>
